!function r(s,a,u){function d(i,t){if(!a[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[i]={exports:{}};s[i][0].call(o.exports,function(t){var e=s[i][1][t];return d(e||t)},o,o.exports,r,s,a,u)}return a[i].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)d(u[t]);return d}({1:[function(W,i,n){(function(q,U){var t,e;t=this,e=function(){"use strict";function d(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,e=void 0,o=void 0,a=function(t,e){p[n]=t,p[n+1]=e,2===(n+=2)&&(o?o(f):v())};var t="undefined"!=typeof window?window:void 0,r=t||{},s=r.MutationObserver||r.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==q&&"[object process]"==={}.toString.call(q),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var t=setTimeout;return function(){return t(f,1)}}var p=new Array(1e3);function f(){for(var t=0;t<n;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}n=0}var m,h,g,b,v=void 0;function y(t,e){var i=this,n=new this.constructor(_);void 0===n[S]&&j(n);var o=i._state;if(o){var r=arguments[o-1];a(function(){return L(o,n,r,i._result)})}else M(i,n,t,e);return n}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return P(e,t),e}u?v=function(){return q.nextTick(f)}:s?(h=0,g=new s(f),b=document.createTextNode(""),g.observe(b,{characterData:!0}),v=function(){b.data=h=++h%2}):c?((m=new MessageChannel).port1.onmessage=f,v=function(){return m.port2.postMessage(0)}):v=void 0===t&&"function"==typeof W?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(f)}:l()}catch(t){return l()}}():l();var S=Math.random().toString(36).substring(2);function _(){}var T=void 0,C=1,E=2,k={error:null};function O(t){try{return t.then}catch(t){return k.error=t,k}}function A(t,e,i){var n,o,r,s;e.constructor===t.constructor&&i===y&&e.constructor.resolve===w?(r=t,(s=e)._state===C?x(r,s._result):s._state===E?z(r,s._result):M(s,void 0,function(t){return P(r,t)},function(t){return z(r,t)})):i===k?(z(t,k.error),k.error=null):void 0===i?x(t,e):d(i)?(n=e,o=i,a(function(e){var i=!1,t=function(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}(o,n,function(t){i||(i=!0,n!==t?P(e,t):x(e,t))},function(t){i||(i=!0,z(e,t))},e._label);!i&&t&&(i=!0,z(e,t))},t)):x(t,e)}function P(t,e){var i,n;t===e?z(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof(i=e),null===i||"object"!==n&&"function"!==n?x(t,e):A(t,e,O(e)))}function I(t){t._onerror&&t._onerror(t._result),R(t)}function x(t,e){t._state===T&&(t._result=e,t._state=C,0!==t._subscribers.length&&a(R,t))}function z(t,e){t._state===T&&(t._state=E,t._result=e,a(I,t))}function M(t,e,i,n){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+C]=i,o[r+E]=n,0===r&&t._state&&a(R,t)}function R(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,o=void 0,r=t._result,s=0;s<e.length;s+=3)n=e[s],o=e[s+i],n?L(i,n,o,r):o(r);t._subscribers.length=0}}function L(t,e,i,n){var o=d(i),r=void 0,s=void 0,a=void 0,u=void 0;if(o){if((r=function(t,e){try{return t(e)}catch(t){return k.error=t,k}}(i,n))===k?(u=!0,s=r.error,r.error=null):a=!0,e===r)return void z(e,new TypeError("A promises callback cannot return that same promise."))}else r=n,a=!0;e._state!==T||(o&&a?P(e,r):u?z(e,s):t===C?x(e,r):t===E&&z(e,r))}var N=0;function j(t){t[S]=N++,t._state=void 0,t._result=void 0,t._subscribers=[]}var B=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[S]||j(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&x(this.promise,this._result))):z(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===T&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===w){var o=O(e);if(o===y&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(i===D){var r=new i(_);A(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},t.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===T&&(this._remaining--,t===E?z(n,i):this._result[e]=i),0===this._remaining&&x(n,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;M(t,void 0,function(t){return i._settledAt(C,e,t)},function(t){return i._settledAt(E,e,t)})},t}();var D=function(){function e(t){this[S]=N++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){P(e,t)},function(t){z(e,t)})}catch(t){z(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var i=this.constructor;return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})})},e}();return D.prototype.then=y,D.all=function(t){return new B(this,t).promise},D.race=function(o){var r=this;return i(o)?new r(function(t,e){for(var i=o.length,n=0;n<i;n++)r.resolve(o[n]).then(t,e)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},D.resolve=w,D.reject=function(t){var e=new this(_);return z(e,t),e},D._setScheduler=function(t){o=t},D._setAsap=function(t){a=t},D._asap=a,D.polyfill=function(){var t=void 0;if(void 0!==U)t=U;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=D},D.Promise=D},"object"==typeof n&&void 0!==i?i.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}).call(this,W("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(t,e,i){var n,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var d,c=[],l=!1,p=-1;function f(){l&&d&&(l=!1,d.length?c=d.concat(c):p=-1,c.length&&m())}function m(){if(!l){var t=u(f);l=!0;for(var e=c.length;e;){for(d=c,c=[];++p<e;)d&&d[p].run();p=-1,e=c.length}d=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new h(t,e)),1!==c.length||l||u(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../utils"),o=function(){function t(t){this.runAttempt=0,this.factorem=t}return t.prototype.recover=function(){var r=this;n.utils.loadScript("//static.criteo.net/js/ld/publishertag.js",function(){var t=[458798,458795,458796,458799,458800,458797];r.factorem.debugOut("Initiating Criteo Recovery");for(var e=0;e<t.length;e++){var i=e+1;if(r.factorem.getAdZone("0"+i))try{var n=r.factorem.slotSizes[e][0];document.getElementById("cdm-zone-0"+i).innerHTML=r.getCriteoSource(t[e],n[0],n[1]);var o={zoneid:+t[e],containerid:"crt-"+t[e],overrideZoneFloor:!1};window.Criteo.DisplayAcceptableAdIfAdblocked(o)}catch(t){r.factorem.debugOut("Error loading Criteo "+t)}}})},t.prototype.getCriteoSource=function(t,e,i){return"<div id='crt-"+t+"' style='width:"+e+"px; height:"+i+"px;'></div>\n"},t}();i.CriteoRecovery=o},{"../utils":16}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e){this.zone=t,this.isDeferred=e};i.AdZone=n},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=function(){function t(t){this.pubId="3165",this.factorem=t}return t.prototype.init=function(t){(void 0===t&&(t=!0),this.enabled=t,this.enabled)&&(!function(i,n){function t(t,e){n[i]._Q.push([t,e])}n[i]||(n[i]={init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},_Q:[]})}("apstag",window),window.apstag.init({pubID:this.pubId,adServer:"googletag"}),n.utils.loadScript("//c.amazon-adsystem.com/aax2/apstag.js"))},t.prototype.fetchBids=function(){var n=this;if(this.enabled){this.factorem.debugOut("[a9] Fetching Bids");var o=["01","02","03","04","05","06","07","08"].map(function(t){return{slotID:"cdm-zone-"+t,sizes:n.factorem.slotSizes[Number(t)-1]}});return new Promise(function(e,t){var i=window;i.apstag.fetchBids({slots:o,timeout:2e3},function(t){n.bids=t,n.factorem.debugOut("[a9] Bids Returned"),i.googletag.cmd.push(function(){i.apstag.setDisplayBids()}),e()})})}},t}();i.AmazonWrapper=o},{"./utils":16}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,o,r=t("./utils");(o=n=i.CmpPolicy||(i.CmpPolicy={}))[o.always=0]="always",o[o.never=1]="never",o[o.detect=2]="detect";var s=function(){function t(t){this.gdprConsent=!1,this.cmpReady=!1,this.factorem=t}return t.prototype.init=function(){var o,i,n=this;return o=window,i=document,o.__cmp||(o.__cmp=function(){(o.attachEvent||window.addEventListener)("message",function(t){o.__cmp.receiveMessage(t)},!1),function t(){if(!o.frames.__cmpLocator)if(i.body){var e=i.createElement("iframe");e.style.display="none",e.name="__cmpLocator",i.body.appendChild(e)}else setTimeout(t,5)}();var n=[],t=function(t,e,i){"ping"===t?i&&i({gdprAppliesGlobally:!!(o.__cmp&&o.__cmp.config&&o.__cmp.config.storeConsentGlobally),cmpLoaded:!1}):n.push({command:t,parameter:e,callback:i})};return t.commandQueue=n,t.receiveMessage=function(t){var e=t&&t.data&&t.data.__cmpCall;e&&n.push({callId:e.callId,command:e.command,parameter:e.parameter,event:t})},t.config={logging:"debug"},t}()),new Promise(function(t,e){window.__cmp("addEventListener","cmpReady",function(){n.cmpReady=!0,t()}),setTimeout(function(){t()},1e3),r.utils.loadScript("//cdm.cursecdn.com/js/cmp/cmp.bundle.js")})},t.prototype.getConsent=function(e){var o=this;return new Promise(function(n,t){window.navigator.cookieEnabled||(o.factorem.debugOut("Cookies are disabled. Ignoring CMP consent check"),n(!0)),o.geoRequiresConsent(e)||(o.gdprConsent=!0,n(!0)),r.utils.getCookie("euconsent")||(o.factorem.debugOut("No consent data found. Showing consent tool"),window.__cmp("showConsentTool"),n(!1)),o.cmpReady||n(!1),window.__cmp("getConsentData",null,function(t){o.factorem.debugOut("populating Prebid consent data");var e=document.getElementsByTagName("body")[0],i=document.createElement("div");i.id="iab",i.innerText=JSON.stringify(t,null,2),i.style.display="none",e.appendChild(i),o.factorem.debugOut(i.innerText)});window.__cmp("getVendorConsents",null,function(t){if(o.factorem.debugOut("getVendorConsents callback result:\n"+JSON.stringify(t,null,2)),t&&t.purposeConsents){for(var e=!0,i=0;i<5;i++)if(!t.purposeConsents[String(i+1)]){e=!1;break}o.gdprConsent=e,o.factorem.debugOut("Consent from vendorConsent purposes "+o.gdprConsent),n(o.gdprConsent)}else o.gdprConsent=!1})})},t.prototype.geoRequiresConsent=function(t){var e=t.toUpperCase();return this.factorem.gdprConsentPolicy===n.never?(this.factorem.debugOut("GDPR Consent disabled"),!(this.gdprConsent=!0)):this.factorem.gdprConsentPolicy===n.always?(this.factorem.debugOut("GDPR Consent explicity required"),!0):"undefined"==t||-1<["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","GB"].indexOf(e)||-1<["CH","IS","LI","NO"].indexOf(e)?(this.factorem.debugOut("GDPR Consent required for "+t),!0):(this.factorem.debugOut("GDPR Consent not required"),!(this.gdprConsent=!0))},t}();i.CmpWrapper=s},{"./utils":16}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.wGeos=["us","row"],t.wDevices=["desk","tab","mob"],t.wDomains=["lolpro","futhead","minecraftforum","gamepedia","curse","diablofans","hearthpwn","lolnexus","marriland","reignofgaming","muthead","gw2db","scrollsfans","eqnextfans","wowdb","mtgsalvation","wildstarforums","bulbagarden","n4g","mmo-champion","siliconera","aionarmory","arenajunkies","bukkit","darkspyro","fm-base","guildwarsguru","guildwars2guru","minecraft","symthic","terrariaonline","wowpedia","zybez","solomid","championselect","lolcounter","probuilds","newsoflegends","thetechgame","neogaf","basilmarket","roosterteeth","luthead","planetdestiny","thesimsresource","dotahut","overpwn","gosugamers","huthead","heroesnexus","fextralife","wowprogress","diabloprogress","pixelpapercraft","mobafire","vaingloryfire","heroesfire","hero","elophant","counterstats","dotafire","infinitefire","gamebanana","op","smashboards","smitefire","worldofwargraphs","leagueofgraphs","socialblade","justanswer","askmrrobot","minecraft-mp","mythicspoiler","owfire","mtggoldfish","tappedout","squidboards","bladeandsouldojo","teambeyond","xboxdvr","minecraft-server-list","tabletitans","hearthstonetopdecks","zeldwiki","wowgirl","destinytracker","fanpop","2khead","strawpoll","lolskill","genr8rs","azurilland","stormkings","rerolled","gungeoneers","pgfire","nexusmods","gwentdb","skybound","tempostorm","chess","zeldauniverse","dealnews","se7esins","watcher","agora","pokevision","warframe","masteroverwatch","cheapassgamer","nomansskymods","umggaming","online-go","2kmtcentral","smite","fury","xenoversemods","justcause2mods","justcause3mods","fantasynamegenerators","paladins","gamepress","iogames","slay","mope","nbalive","exviuswiki","wow-professions","thewalkingdead","narwhale","zlap","sl4sh","splix","method","doblons","blockor","westeros","overlog","futbin","speedrun","swgoh","karnage","vertix","driftin","bloble","bonk","starblast","pokemongohub","futwatch","oceanar","germs","mooomoo","feheroes","lasersharks","serenesforest","kugeln","raidbots","gwentify","zombs","zeldamaps","pubg","pokebattler","rollforfantasy","spinz","penny-arcade","uesp","superhex","civfanatics","masterpubg","stabby","bddatabase","aiondatabase","archeagedatabase","teradatabase","tosdatabase","mxmdatabase","blessdatabase","rodatabase","kiranico","woot","l2r","clickb8","temptalia","teamliquid","unicorn"],t.alsDomains=[3,0,3,0,3,3,3,3,0,3,3,0,0,3,0,3,3,0,3,3,3,0,3,0,0,0,0,0,0,3,3,0,3,3,3,3,3,3,0,0,0,0,3,3,0,3,3,3,3,3,0,0,0,0,3,3,3,0,3,0,3,3,3,0,0,3,0,0,0,0,3,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.hlsDomains=[3,3,3,0,3,3,3,3,0,3,3,0,0,3,0,3,3,0,3,3,3,0,3,0,0,0,0,3,0,3,3,0,3,3,3,3,3,3,0,3,0,0,3,3,0,3,3,3,3,3,0,0,0,0,3,3,3,0,3,0,3,3,3,0,0,3,0,0,0,0,3,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.fpusDomains=[2.1,1.4,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1],t.fprowDomains=[1.1,.5,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1],t.dmDomains=[0,7294528,7294544,7294530,7294499,7294503,7033102,7294539,0,7294556,7294549,7294533,0,7294524,7294576,7294548,0,7294498,7294550,7294545,7294558,0,7294494,7294497,7294500,7294527,0,7294532,7294543,7294564,7294573,0,7294582,0,0,0,7294554,0,0,7294551,7294496,0,7294541,0,0,0,7295971,7294531,7295960,7294537,7294526,7294579,7294504,7294553,7294546,7294574,7294536,7295954,7294523,7295942,7294522,7295964,7294529,11400467,7294560,7294561,7294575,7294538,7294563,0,7294495,7294542,11804502,7295974,7294547,0,7295976,0,7294566,7295987,0,7294565,7294534,7294580,7294577,7294501,7294525,7295919,7295980,7294540,7295950,7295933,7295993,7294557,0,0,7643332,0,0,9249736,0,0,0,9249722,9249732,9249729,0,10867444,10867426,10867454,0,10867443,10867432,10867450,10867440,10867416,0,0,10867423,10867415,10867436,10867418,10867422,10867439,10867428,0,10867414,10867446,10867442,10867429,10867447,10867438,10867441,10867427,10867413,10867453,11804501,10867433,10867417,11158368,11158385,11158389,11158373,11158395,11158399,11158405,11158406,11158407,11158378,11158408,11158409,11158410,11158411,0,11779154,11779164,11779151,0,11779162,11779161,11779150,11779149,11779153,11779155,11779148,11779159,11779157,11779144,0,0,0,0,0,0,0,0,0,0,0,11779160,0,0,0,0,0],t.MS_IN_SEC=1e3,t.SEC_IN_MIN=60,t.MIN_IN_HOUR=60,t.MS_IN_DAY=(t.HOURS_IN_DAY=24)*t.MIN_IN_HOUR*t.SEC_IN_MIN*t.MS_IN_SEC,t.hideBadgeStyleHtml=".ad-atf-badge {display:none !important;}.atf-ad-badge {display:none !important;}",t}();i.constants=n},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./utils"),u=t("./constants"),n=t("./layoutStructure"),d=t("./adzone"),o=t("./gptwrapper"),r=t("./prebidwrapper"),s=t("./amazonwrapper"),c=t("./cmpwrapper"),l=t("./twitchwrapper"),p=t("./scrollspy"),f=t("./videomanager"),m=t("./adblock/criteo"),h=t("./platforms"),g=function(){function t(){this.vKey="17.2.0-inview",this.adZonesMaster=["01","02","03","04","05","06","07","08","0m","0b","0s","skin","embed","end"],this.slotSizes=[[[728,90]],[[300,250]],[[300,250]],[[728,90]],[[728,90]],[[300,250]],[],[]],this.PREBID_TIMEOUT=2e3,this.MAX_RETRIES=20,this.minimumAllowedBid=.12,this.instartEnabled=!1,this.adZones=[],this.platforms=[],this.setDevice=function(){this.deviceKey="desk";var t=navigator.userAgent||navigator.vendor||window.opera;/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&(this.deviceKey="tab"),/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))&&(this.deviceKey="mob"),this.debugOut("INIT - Scanning Device: "+this.deviceKey)},this.gpt=new o.GptWrapper(this),this.prebid=new r.PrebidWrapper(this),this.amazon=new s.AmazonWrapper(this),this.cmp=new c.CmpWrapper(this),this.twitch=new l.TwitchWrapper(this),this.videoManager=new f.VideoManager(this),this.scrollSpy=new p.ScrollSpy}return t.prototype.configure=function(t){var e=this;try{this.timeKey=(new Date).getTime(),this.debugMode=a.utils.getDebugMode();var i=document.getElementById("factorem"),n=null!=i?i.src.replace(/^[^\?]+\??/,""):"",o=a.utils.parseQuery(n);this.section=null!=o.sec?o.sec:"default",n=window.location.href.replace(/^[^\?]+\??/,""),o=a.utils.parseQuery(n),this.showFlightKey=null!=o.showFlight?o.showFlight:"n",this.disableSkin=null!=o.disableSkin,this.geo=this.cdmgeo=a.utils.getCookie("cdmgeo"),this.readyStateEvent=t.readyStateEvent||"complete",this.slotSizes=t.slotSizes||[[[728,90]],[[300,250]],[[300,250]],[[728,90]],[[728,90]],[[300,250]],[],[]],this.disableInvisibleSlots=void 0!==t.disableInvisibleSlots&&t.disableInvisibleSlots;var r=null!=o.gdprConsentPolicy?c.CmpPolicy[o.gdprConsentPolicy]:c.CmpPolicy.detect;this.gdprConsentPolicy=null!=r?r:c.CmpPolicy.detect,this.minimumRefresh=void 0===t.minimumRefresh?60*u.constants.MS_IN_SEC:t.minimumRefresh,this.slotClassMap=void 0===t.slotClassMap?void 0:t.slotClassMap,this.enableCriteo=void 0===t.enableCriteo||t.enableCriteo,this.refreshOnPushState=void 0!==t.refreshOnPushState&&t.refreshOnPushState,this.testPlatform=null!=o.testPlatform?o.testPlatform:void 0,this.testPlatform&&this.platforms.map(function(t){t.isEnabled=t.id==e.testPlatform});var s=window;s.I11C&&1==s.I11C.Morph&&(this.debugOut("Instart recovery enabled"),this.instartEnabled=!0)}catch(t){this.debugOut("Error configuring Factorem"+t)}console.info("CDMADS::Multum, non multa::Version: "+this.vKey)},t.prototype.init=function(t){var e=this;this.prebid.init(),this.amazon.init(!0),this.setupPlatforms(),this.configure(t),this.setDomain(),this.setDevice(),this.setLayout(),this.debugOut("INIT - Setting Full TimeOut: "+this.PREBID_TIMEOUT+" ms | Config TimeOut: "),this.debugOut("INIT - geo: "+this.cdmgeo),this.debugOut("INIT - gdprConsentPolicy: "+c.CmpPolicy[this.gdprConsentPolicy]),this.gpt.init(this.domainName,this.section),this.debugOut("Calling Config Service"),this.geoservicePromise=a.utils.ajax(window.location.protocol+"//geoservice.curse.com/geo/get").then(function(t){return e.handleConfig(t)},function(){e.geo="undefined",e.debugOut("GeoService error")});var i,n=this.getGeoPromise(),o=this.getAdZones();n.then(function(t){e.cmp.geoRequiresConsent(t)?e.cmp.init().then(function(){i=e.cmp.getConsent(t),e.prebid.runPrebid(!0),Promise.all([o,i]).then(function(){return e.gpt.configureGpt()})}):(e.prebid.runPrebid(!1),o.then(function(){return e.gpt.configureGpt()}))}),this.amazonPromise=this.amazon.fetchBids(),this.addSpaSupport()},t.prototype.setupPlatforms=function(){new h.AolPlatform(this,!0),new h.AppNexusPlatform(this,!0),new h.BrealtimePlatform(this,!0),new h.DistrictMPlatform(this,!0),new h.IndexExchangePlatform(this,!0),new h.OpenXPlatform(this,!0),new h.PubmaticPlatform(this,!0),new h.PulsePointPlatform(this,!0),new h.SovrnPlatform(this,!0),new h.CriteoPlatform(this,!0)},t.prototype.getGeoPromise=function(){var i=this;return void 0===this.cdmgeo?this.geoservicePromise.then(function(){return i.geo}):new Promise(function(t,e){t(i.cdmgeo)})},t.prototype.setDomain=function(){-1!=document.domain.indexOf(".co.uk")||-1!=document.domain.indexOf(".com.br")?this.domainName=document.domain.split(".")[document.domain.split(".").length-3]:this.domainName=document.domain.split(".")[document.domain.split(".").length-2],""!=this.domainName&&null!=this.domainName||(this.domainName="na"),this.domainWhitelisted=-1!=u.constants.wDomains.indexOf(this.domainName),this.subdomainName=document.domain.split(".")[0],this.debugOut("INIT - Setting Domain: "+this.domainName)},t.prototype.setLayout=function(){this.isResponsive=0<document.querySelectorAll('head meta[name="viewport"][content*="width=device-width"]').length,this.isMobileDevice=!window.matchMedia("(min-device-width: 750px)").matches,this.mobR=this.isResponsive&&this.isMobileDevice,void 0!==window.genreCategory&&(this.genC=this.toString()),this.debugOut("MobR = "+this.mobR+" genC = "+this.genC),this.mobR&&this.isMobileDevice&&(this.slotSizes[0]=[[320,50]],this.slotSizes[3]=[[320,50]],this.slotSizes[4]=[[320,50]]);var t=u.constants.wDomains.indexOf(this.domainName);-1==t||!0===this.abp_on?this.layoutStructure=n.LayoutStructure.NoSLBHasSkin:this.layoutStructure="home"==this.section?u.constants.hlsDomains[t]:u.constants.alsDomains[t],this.mobR&&(this.layoutStructure=n.LayoutStructure.NoSLBNoSkin),this.debugOut("INIT - Layout Structure: "+this.layoutStructure)},t.prototype.getAdZones=function(){var n=this;return new Promise(function(t,e){var i=setInterval(function(){n.debugOut("Inside runZones"),null==document.getElementById("cdm-zone-end")&&window.document.readyState!=n.readyStateEvent||(n.parseZones(),clearInterval(i),t())},20,n)})},t.prototype.parseZones=function(){if(void 0!==this.slotClassMap)for(var t in this.slotClassMap){var e=document.getElementsByClassName(t);0<e.length&&(e[0].innerHTML='<div id = "'+this.slotClassMap[t]+'"/>')}for(var i=0,n=this.adZonesMaster.length;i<n;i++){var o=this.adZonesMaster[i],r=document.getElementById("cdm-zone-"+o);if(null!=r&&!this.getAdZone(o)){var s=r.attributes.getNamedItem("data-defer"),a=!!s&&"true"===s.value;this.adZones.push(new d.AdZone(o,a))}}this.debugOut("Parsed AdZones: "+this.adZones.map(function(t){return t.zone})+" in section: "+this.section);var u=document.getElementById("cdm-zone-video");null!=u&&this.videoManager.init(u)},t.prototype.initAdserver=function(){var e=this;this.debugOut("initAdserver");var i=window;if(!i.pbjs.initAdserverSet){if(!i.googletag.pubadsReady&&i.pbjs.retries<=this.MAX_RETRIES)return setTimeout(this.initAdserver.bind(this),50),void i.pbjs.retries++;i.googletag.cmd.push(function(){i.pbjs.que.push(function(){i.pbjs.setTargetingForGPTAsync()}),e.debugOut("Prebid complete, displaying ads");var t=e.adZones.filter(function(t){return!t.isDeferred}).map(function(t){return t.gptSlot});i.googletag.pubads().refresh(t)}),i.pbjs.initAdserverSet=!0,this.gpt.setupDeferredSlots(),this.lastAdLoad=this.getElapsedTime()}},t.prototype.handleConfig=function(t){var e,i,n=this;if("FAILURE"!=(t=JSON.parse(t)).Status?this.geo=t.Range.CountryCode.toLowerCase():this.geo="us",this.debugOut("Geoservice response: "+this.geo),this.cdmgeo=this.geo,a.utils.setCookie("cdmgeo",this.cdmgeo,30),void 0!==t.Config.sourcepoint_script){e=t.Config.sourcepoint_script.substring(t.Config.sourcepoint_script.indexOf('data-client-id="')+16,t.Config.sourcepoint_script.indexOf('" type')),i=t.Config.sourcepoint_script.substring(t.Config.sourcepoint_script.indexOf('src="')+5,t.Config.sourcepoint_script.indexOf('"></'));var o=document.createElement("script");o.setAttribute("data-client-id",e),o.src=i,o.async=!0,document.getElementsByTagName("head")[0].appendChild(o),document.addEventListener("sp.blocking",function(t){(n.debugOut("SourcePoint AdBlock User"),window.abp=n.abp_on=!0,n.enableCriteo&&!n.instartEnabled)&&new m.CriteoRecovery(n).recover()}),document.addEventListener("sp.not_blocking",function(t){n.debugOut("SourcePoint Non AdBlock User")})}},t.prototype.getAdZone=function(t){for(var e=0;e<this.adZones.length;e++)if(this.adZones[e].zone===t)return this.adZones[e]},t.prototype.refreshAds=function(t,e){var i=this;void 0===e&&(e=!1);var n=this.getElapsedTime();if(!e&&n<this.lastAdLoad+this.minimumRefresh)this.debugOut("Refresh blocked for "+(this.lastAdLoad+this.minimumRefresh-n)+"ms");else{this.debugOut("Starting refresh"),this.parseZones(),this.debugOut("zones re-parsed");for(var o=window,r=[],s=[],a=0;a<this.adZonesMaster.length;a++){var u=Number(this.adZonesMaster[a]);if(!t||-1<t.indexOf(u)){var d=this.adZonesMaster[a],c=this.getAdZone(d),l=c.gptSlot;s.push("cdm-zone-"+d),l||(l=this.gpt.defineGPTSlot(d,this.slotSizes[a],!0),o.googletag.cmd.push(function(){o.googletag.display("cdm-zone-"+d)}),c.gptSlot=l),c.isDeferred||r.push(l)}}o.pbjs.que.push(function(){o.pbjs.requestBids({timeout:i.PREBID_TIMEOUT,adUnitCodes:s,bidsBackHandler:function(){o.pbjs.setTargetingForGPTAsync(s),o.googletag.pubads().refresh(r),i.lastAdLoad=i.getElapsedTime()}})})}},t.prototype.addSpaSupport=function(){var e,i;this.refreshOnPushState&&(this.debugOut("Enabling SPA refresh"),e=window.history,i=e.pushState,e.pushState=function(t){return document.createEvent("Event").initEvent("pushState",!0,!0),window.dispatchEvent(new Event("pushState")),i.apply(e,arguments)},window.addEventListener("pushState",function(t){setTimeout(this.refreshAds.bind(this,null,!0),10)}))},t.prototype.createAdIframe=function(t,e,i){var n=document.createElement("div"),o=document.createElement("iframe");return n.style.position="absolute",n.style.top="0px",n.style.left="0px",o.style.border="none",n.style.width=e+"px",n.style.height=i+"px",o.width=String(e),o.height=String(i),n.id="ifrmDiv",o.id="ifrmAd",o.async=!0,o.style.top="0px",o.style.left="0px",o.scrolling="no",o.marginWidth="0",o.marginHeight="0",this.isMobileDevice&&(o.sandbox="allow-scripts allow-same-origin allow-popups"),document.getElementById(t).appendChild(n),n.appendChild(o),o=o.contentWindow?o.contentWindow:o.contentDocument.document?o.contentDocument.document:o.contentDocument},t.prototype.displayAd=function(e){this.debugOut("Displaying "+e);var t=window.parent.pbjs.getHighestCpmBids().filter(function(t){return t.adUnitCode=="cdm-zone-"+e}),i=document.getElementById(t[0].adUnitCode);i.style.position="relative";var n=document.createElement("style");n.innerHTML="#"+t[0].adUnitCode+" {position:relative;width:"+t[0].width+"px;height:"+t[0].height+"px;}",i.appendChild(n);var o=this.createAdIframe(i.id,t[0].width,t[0].height);window.parent.pbjs.renderAd(o.document,t[0].adId)},t.prototype.getElapsedTime=function(){return(new Date).getTime()-this.timeKey},t.prototype.debugOut=function(t){if(this.debugMode){(new Date).getTime();console.debug("CDMADS["+this.getElapsedTime()+"ms]: "+t)}},t.prototype.debugAll=function(){var t=window.pbjs,e=t.getBidResponses(),i=t.getAllWinningBids(),n=[];if(Object.keys(e).forEach(function(t){e[t].bids.forEach(function(e){n.push({bid:e,adunit:t,adId:e.adId,bidder:e.bidder,time:e.timeToRespond,cpm:e.cpm,msg:e.statusMessage,rendered:!!i.find(function(t){return t.adId==e.adId})})})}),n.length)if(console.table)console.table(n);else for(var o=0;o<n.length;o++)console.log(n[o]);else console.warn("NO prebid responses");console.table(this.amazon.bids)},t.prototype.debugWinning=function(){for(var t=window.pbjs.getHighestCpmBids(),e=[],i=0;i<t.length;i++){var n=t[i];e.push({adunit:n.adUnitCode,adId:n.adId,bidder:n.bidder,time:n.timeToRespond,cpm:n.cpm})}if(e.length)if(console.table)console.table(e);else for(var o=0;o<e.length;o++)console.log(e[o]);else console.warn("No prebid winners")},t}();i.Factorem=g},{"./adblock/criteo":3,"./adzone":4,"./amazonwrapper":5,"./cmpwrapper":6,"./constants":7,"./gptwrapper":9,"./layoutStructure":10,"./platforms":12,"./prebidwrapper":13,"./scrollspy":14,"./twitchwrapper":15,"./utils":16,"./videomanager":17}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./utils"),n=t("./layoutStructure"),o=function(){function t(t){this.factorem=t}return t.prototype.init=function(t,e){var i=window;i.gptadslots=[],i.googletag=i.googletag||{},i.googletag.cmd=i.googletag.cmd||[],i.googleTagKey="/58309977/"+t,"home"==e.toLowerCase()&&(i.googleTagKey=i.googleTagKey+"/home"),i.googletag.cmd.push(function(){i.googletag.pubads().disableInitialLoad()}),a.utils.loadScript("//www.googletagservices.com/tag/js/gpt.js")},t.prototype.defineGPTSlot=function(t,e,i){try{var n=this.factorem.getAdZone(t);if(n){var o="cdm-zone-"+t;if(this.factorem.disableInvisibleSlots){var r=document.getElementById(o);if(!a.utils.isVisible(r))return void this.factorem.debugOut("GPT not called for "+o+" due to visibility.")}var s=window.googletag.defineSlot(window.googleTagKey,e,"cdm-zone-"+t).setTargeting("zne",[t]).setTargeting("nli",1).setTargeting("uprice","n,0.00");return i&&!this.factorem.disableSkin&&(s=s.setTargeting("pSkin",1).setTargeting("slink",[""+this.factorem.skinLink])),s=s.addService(window.googletag.pubads()),n.gptSlot=s,window.gptadslots.push(s),s}}catch(t){this.factorem.debugOut(t)}},t.prototype.configureGpt=function(){var s=this;this.factorem.debugOut("Configuring GPT");var e=window;e.googletag.cmd.push(function(){s.factorem.getAdZone("skin")&&(e.gptadslots[0]=e.googletag.defineOutOfPageSlot(e.googleTagKey,"cdm-zone-skin").setTargeting("zne",["skin"]).setTargeting("pSkin",1).addService(e.googletag.pubads())),s.factorem.layoutStructure==n.LayoutStructure.NoSLBNoSkin?(s.factorem.debugOut("No SLB, No Skin Layout"),s.defineGPTSlot("01",s.factorem.slotSizes[0],!0)):s.factorem.layoutStructure==n.LayoutStructure.SLBNoSkin?(s.factorem.debugOut("SLB, No Skin Layout"),s.defineGPTSlot("01",[[728,90],[980,150],[970,250],[970,125],[970,150],[970,90],[980,66],[980,250]],!0)):s.factorem.layoutStructure==n.LayoutStructure.NoSLBHasSkin?(s.factorem.debugOut("No SLB, Skin Layout"),s.defineGPTSlot("01",[[728,90]],!0)):s.factorem.layoutStructure==n.LayoutStructure.SLBHasSkin?(s.factorem.debugOut("SLB, Skin Layout"),s.defineGPTSlot("01",[[728,90],[980,150],[970,250],[970,125],[970,150],[970,90],[980,66],[980,250]],!0)):(s.factorem.debugOut("No SLB, No Skin Layout (NO LAYOUT SET)"),s.defineGPTSlot("01",[[728,90]],!0)),s.defineGPTSlot("02",s.factorem.slotSizes[1],!0),s.defineGPTSlot("0m",[[320,50]],!1),s.defineGPTSlot("05",s.factorem.slotSizes[4],!0),s.defineGPTSlot("06",s.factorem.slotSizes[5],!0),s.defineGPTSlot("07",s.factorem.slotSizes[6],!0),s.defineGPTSlot("0s",[[160,600]],!1),s.defineGPTSlot("08",s.factorem.slotSizes[7],!0),s.factorem.twitch.defineTwitchEmbed(),s.defineGPTSlot("03",s.factorem.slotSizes[2],!0),s.defineGPTSlot("04",s.factorem.slotSizes[3],!0),s.factorem.mobR||s.defineGPTSlot("0b",[[240,90]],!1),e.googletag.pubads().enableSingleRequest();var t="https:"==window.location.protocol;e.googletag.pubads().setTargeting("vKey",s.factorem.vKey).setTargeting("sdName",s.factorem.subdomainName).setTargeting("dName",[s.factorem.domainName,s.factorem.domainWhitelisted]).setTargeting("dtype",s.factorem.deviceKey).setTargeting("geo",s.factorem.geo).setTargeting("sec",s.factorem.section).setTargeting("oT",s.factorem.showFlightKey).setTargeting("pName",encodeURIComponent(location.pathname.split("/")[1])).setTargeting("nCas","0").setTargeting("ssl",t?"1":"0").setTargeting("pbv",e.pbjs.version),s.factorem.cmp.gdprConsent?(e.googletag.pubads().setRequestNonPersonalizedAds(0),e.googletag.pubads().setTargeting("cnst","1")):(e.googletag.pubads().setRequestNonPersonalizedAds(1),e.googletag.pubads().setTargeting("cnst","0")),s.factorem.instartEnabled&&(s.factorem.debugOut("Setting Instart Logic targeting"),e.googletag.pubads().setTargeting("isrt","1")),e.googletag.pubads().addEventListener("slotRenderEnded",function(t){var e=t.slot.getSlotElementId();s.factorem.debugOut("DFP Slot Render Complete - "+e);var i=document.getElementById(e),n=i.querySelectorAll("[id^=google_ads_iframe]")[0],o=n.clientWidth,r=n.clientHeight;"cdm-zone-01"==e&&728<o&&(s.factorem.debugOut("Hiding Badge Unit"),a.utils.hideBadge(i,r,s.factorem.domainName)),"cdm-zone-embed"==e&&s.factorem.twitch.twitchPlayerWireup(i)}),e.googletag.enableServices(),s.factorem.getAdZone("skin")&&e.googletag.cmd.push(function(){e.googletag.display("cdm-zone-skin")})}),this.factorem.scrollSpy.initialize({offset:400})},t.prototype.setupDeferredSlots=function(){var i=this,n=window;this.factorem.adZones.filter(function(t){return t.isDeferred}).map(function(t){i.factorem.debugOut("Setting up deferred slot "+t.zone);var e=document.getElementById("cdm-zone-"+t.zone);e.addEventListener("scrollSpyInView",function(){n.googletag.cmd.push(function(){t.wasRefreshed||(i.factorem.debugOut("Deferred ad in view "+t.zone),n.googletag.pubads().refresh([t.gptSlot]),t.wasRefreshed=!0)})}),i.factorem.scrollSpy.watch(e)})},t}();i.GptWrapper=o},{"./layoutStructure":10,"./utils":16}],10:[function(t,e,i){"use strict";var n;Object.defineProperty(i,"__esModule",{value:!0}),(n=i.LayoutStructure||(i.LayoutStructure={}))[n.NoSLBNoSkin=0]="NoSLBNoSkin",n[n.SLBNoSkin=1]="SLBNoSkin",n[n.NoSLBHasSkin=2]="NoSLBHasSkin",n[n.SLBHasSkin=3]="SLBHasSkin"},{}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("es6-promise");var n=new(t("./factorem").Factorem);n.init(window.factorem),window.factorem=n},{"./factorem":8,"es6-promise":1}],12:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./constants"),s=t("./utils"),a=function(){function t(t,e){this.isEnabled=!0,this.supportedSizes=[[728,90],[320,50],[970,90],[970,250],[300,250],[300,600],[160,600]],this.factorem=t,this.isEnabled=e,this.factorem.platforms.push(this)}return t.prototype.zoneSizeSupported=function(t){return 1<=s.utils.getCommonSizes(this.factorem.slotSizes[t],this.supportedSizes).length},t}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="am",t.supportedSizes=[[728,90],[300,250]],t}return o(t,e),t.prototype.getBidRequest=function(t){var e="US"===this.factorem.geo?[3577093,3577092,3577092,3577093,3910987,3910988]:[3577090,3577091,3577091,3577090,3910985,3910986];if(!(e.length<t))return[{bidder:"aol",params:{placement:e[t],network:"9455.1",bidFloor:this.factorem.minimumAllowedBid}}]},t}(i.Platform=a);i.AolPlatform=u;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="an",t}return o(t,e),t.prototype.getBidRequest=function(t){return[{bidder:"appnexusAst",params:{member:"3697",invCode:this.factorem.domainName+"-02",reserve:this.factorem.minimumAllowedBid}}]},t}(a);i.AppNexusPlatform=d;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="br",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=[10954950,10954955,10954956,10954976,10955487,10954993,11316067,11316068];if(!(e.length<t))return[{bidder:"brealtime",params:{placementId:String(e[t])}}]},t}(a);i.BrealtimePlatform=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="dm",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=r.constants.wDomains.indexOf(this.factorem.domainName),i=r.constants.dmDomains[e];if(!(i<=0))return[{bidder:"districtm",params:{placementId:i}}]},t}(a);i.DistrictMPlatform=l;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="ca",t}return o(t,e),t.prototype.getBidRequest=function(t){if(!([158962,175222,175223,175224,175225,175226,199136,199137].length<t))return[{bidder:"ix",params:{siteId:"158962",size:this.factorem.slotSizes[t][0],bidFloor:this.factorem.minimumAllowedBid,bidFloorCur:"USD"}}]},t}(a);i.IndexExchangePlatform=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="ox",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=[538399536,538399541,538399563,538399548,538399568,538399574,538858903,538858904];if(!(e.length<t))return[{bidder:"openx",params:{unit:String(e[t]),delDomain:"curse-d.openx.net",customFloor:this.factorem.minimumAllowedBid}}]},t}(a);i.OpenXPlatform=f;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="pm",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=["001","002","003","004","005","006","865721","1082388"];if(!(e.length<t))return[{bidder:"pubmatic",params:{publisherId:"30296",adSlot:e[t]+"@"+s.utils.getSizeStr(this.factorem.slotSizes[t][0]),kadfloor:String(this.factorem.minimumAllowedBid)}}]},t}(a);i.PubmaticPlatform=m;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="pp",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=[409584,409582,409587,409585,409586,409583,575300,576315];if(!(e.length<t))return[{bidder:"pulsepoint",params:{cf:s.utils.getSizeStr(this.factorem.slotSizes[t][0]),cp:"559903",ct:String(e[t])}}]},t}(a);i.PulsePointPlatform=h;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="sv",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=[300207,300204,300205,300209,void 0,331966,125713,466069];if(!(e.length<t||void 0===e[t]))return[{bidder:"sovrn",params:{tagid:String(e[t]),bidfloor:this.factorem.minimumAllowedBid}}]},t}(a);i.SovrnPlatform=g;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="cr",t}return o(t,e),t.prototype.getBidRequest=function(t){var e=[{"728x90":881062,"970x90":942793,"970x250":942794,"320x50":1009263},{"300x250":942795,"300x600":942796},{"300x250":942797},{"728x90":942798,"320x50":1009265},{"728x90":942799,"320x50":1009266},{"300x250":942800},{"160x600":942801},{"160x600":942802}];if(!(e.length<t||void 0===e[t])){for(var i=[],n=0;n<this.factorem.slotSizes[t].length;n++){var o=e[t][s.utils.getSizeStr(this.factorem.slotSizes[t][n])];i.push({bidder:"criteo",params:{networkId:146281,zoneId:o}})}return i}},t}(a);i.CriteoPlatform=b},{"./constants":7,"./utils":16}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=function(){function t(t){this.factorem=t}return t.prototype.init=function(){var t=window;t.pbjs=t.pbjs||{},t.pbjs.que=t.pbjs.que||[],t.pbjs.retries=0,n.utils.loadScript("//cdm.cursecdn.com/js/prebid/prebid-1.13.0.js")},t.prototype.getPrebidConfig=function(t){var e={userSync:{iframeEnabled:!0,enabledBidders:["ix","pubmatic","appnexusAst","openx","brealtime","pulsepoint","districtm","sovrn","aol","criteo"],syncDelay:6e3}};return t&&(e.consentManagement={cmpApi:"iab",timeout:0,allowAuctionWithoutConsent:!0}),e},t.prototype.runPrebid=function(e){var o=this;this.factorem.debugOut("Running Prebid");var i=window;i.pbjs.que.push(function(){i.pbjs.setConfig(o.getPrebidConfig(e));var t=o.getAdUnits();i.pbjs.addAdUnits(t),i.pbjs.requestBids({bidsBackHandler:function(t){o.factorem.debugOut("All bids received"),o.factorem.initAdserver()},timeout:o.factorem.PREBID_TIMEOUT}),i.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"uPrice",val:function(t){var e,i=t.cpm,n=(Math.floor(100*i)/100).toFixed(2);switch(t.bidderCode){case"ix":e="ca";break;case"sovrn":e="sv";break;case"pubmatic":e="pm";break;case"appnexus":case"appnexusAst":e="an";break;case"brealtime":e="br";break;case"openx":e="ox";break;case"aol":e="am";break;case"pulsepoint":e="pp";break;case"districtm":e="dm";break;case"criteo":e="cr";break;default:e="n"}return i>o.factorem.minimumAllowedBid?e+","+n:"n,0.00"}}]},aol:{bidCpmAdjustment:function(t){return.88*t}},brealtime:{bidCpmAdjustment:function(t){return.8*t}},pubmatic:{bidCpmAdjustment:function(t){return.87*t}}}})},t.prototype.getAdUnits=function(){for(var t,e=[],i=0;i<this.factorem.slotSizes.length;i++)if(0<this.factorem.slotSizes[i].length){for(var n={code:"cdm-zone-0"+(i+1),mediaTypes:{banner:{sizes:this.factorem.slotSizes[i]}},bids:[]},o=0;o<this.factorem.platforms.length;o++){var r=this.factorem.platforms[o];if(r.isEnabled&&r.zoneSizeSupported(i)){var s=this.factorem.platforms[o].getBidRequest(i);s&&(t=n.bids).push.apply(t,s)}}e.push(n)}return e},t}();i.PrebidWrapper=o},{"./utils":16}],14:[function(t,e,i){"use strict";function n(n,o,r){var s,a;return o||(o=250),function(){var t=r||this,e=+new Date,i=arguments;s&&e<s+o?(clearTimeout(a),a=setTimeout(function(){s=e,n.apply(t,i)},o+s-e)):(s=e,n.apply(t,i))}}Object.defineProperty(i,"__esModule",{value:!0});var o=1,r=!1,s={},a={},u=-1,d="OUT_OF_VIEW",c="ALMOST_IN_VIEW",l="IN_VIEW",p=function(){function t(){}return t.OUT_OF_VIEW="scrollSpyOutOfView",t.ALMOST_IN_VIEW="scrollSpyAlmostInView",t.IN_VIEW="scrollSpyInView",t}();i.ScrollSpyStatusEvents=p;var f=function(){function t(){}return t.prototype.initialize=function(t){t=t||{},this.Offset=t.offset&&0<t.offset?t.offset:0,this.TickIntervalRate=t.tickIntervalRate?t.tickIntervalRate:this.TickIntervalRate,this.ThrottleRate=t.throttleRate?t.throttleRate:this.ThrottleRate,window.addEventListener("scroll",n(this.scheduleUpdateInViewStatus.bind(this),this.ThrottleRate)),window.addEventListener("resize",n(this.scheduleUpdateInViewStatus.bind(this),this.ThrottleRate))},t.prototype.getElementsCount=function(){return Object.keys(s).length},t.prototype.isElementWatched=function(t){for(var e=Object.keys(s),i=0;i<e.length;i++){var n=e[i];if(s[n]===t)return!0}return!1},t.prototype.watch=function(t){t&&t.nodeName&&!this.isElementWatched(t)&&(s[o]=t,this.updateInViewStatus(t,o),this.addTickInterval(),o++)},t.prototype.unwatch=function(t){for(var e={},i=Object.keys(s),n=0;n<i.length;n++){var o=i[n],r=s[o];r!==t?e[o]=r:delete a[o]}s=e,this.getElementsCount()||this.removeTickInterval()},t.prototype.scheduleUpdateInViewStatus=function(){var o=this;!r&&this.getElementsCount()&&(window.requestAnimationFrame(function(){for(var t=Object.keys(s),e=0;e<t.length;e++){var i=t[e],n=s[i];o.updateInViewStatus(n,i)}r=!1}),r=!0)},t.prototype.addTickInterval=function(){-1<u||(u=setInterval(this.scheduleUpdateInViewStatus.bind(this),this.TickIntervalRate))},t.prototype.removeTickInterval=function(){clearInterval(u),u=-1},t.prototype.getInViewStatus=function(t){var e=t.getBoundingClientRect(),i=e.top-this.Offset,n=e.bottom+this.Offset;return 0<=i&&i<window.innerHeight||0<n&&n<=window.innerHeight||i<0&&n>window.innerHeight?l:d},t.prototype.updateInViewStatus=function(t,e){var i=a[e],n=this.getInViewStatus(t);i!==n&&(a[e]=n,this.fireEvent(t,n))},t.prototype.fireEvent=function(t,e){var i;switch(e){default:case d:i=p.OUT_OF_VIEW;break;case c:i=p.ALMOST_IN_VIEW;break;case l:i=p.IN_VIEW}document.createEvent("Event").initEvent(i,!0,!0),t.dispatchEvent(new Event(i))},t}();i.ScrollSpy=f},{}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=t("./utils"),n=function(){function t(t){this.factorem=t}return t.prototype.defineTwitchEmbed=function(){try{var t=document.getElementById("cdm-zone-embed");if(t){var e=window.googletag,i=Number(t.getAttribute("data-width")),n=Number(t.getAttribute("data-height")),o=[[640,240],[640,270],[776,270]],r=[[i,n]],s=u.utils.getCommonSizes(o,r);s.length<1&&(s=o),this.factorem.debugOut("Twitch Embed Found - "+s[0]);var a=e.defineSlot(window.googleTagKey+"/embed",s,t.id).addService(e.pubads());this.factorem.getAdZone("embed").gptSlot=a}}catch(t){this.factorem.debugOut(t)}},t.prototype.twitchPlayerWireup=function(t){var e=this;this.factorem.debugOut("Wiring up twitch player"),t.addEventListener("scrollSpyInView",function(){e.factorem.debugOut("Twitch Embed In View"),e.twitchPlayerControl(!0)}),t.addEventListener("scrollSpyOutOfView",function(){e.factorem.debugOut("Twitch Embed Out of View"),e.twitchPlayerControl(!1)}),this.factorem.scrollSpy.watch(t)},t.prototype.twitchPlayerControl=function(t){try{var e=document.querySelector("#cdm-zone-embed iframe");e.contentWindow.player&&e.contentWindow.playerReady?e.contentWindow.handleViewControls(t):setTimeout(this.twitchPlayerControl.bind(this),500,t)}catch(t){this.factorem.debugOut(t)}},t}();i.TwitchWrapper=n},{"./utils":16}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("es6-promise");var r=t("./constants"),n=function(){function i(){}return i.getDebugMode=function(){var t="factorem.debugMode",e=!1;return-1!=window.location.href.indexOf("cdmDebugMode=minuteman")&&(e=!0,localStorage.setItem(t,String(e))),e="true"===localStorage.getItem(t)},i.parseQuery=function(t){var e={};if(!t)return e;for(var i=t.split(/[;&]/),n=0;n<i.length;n++){var o=i[n].split("=");if(o&&2==o.length){var r=unescape(o[0]),s=unescape(o[1]);s=s.replace(/\+/g," "),e[r]=s}}return e},i.setCookie=function(t,e,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+i*r.constants.MS_IN_DAY),n="expires="+o.toUTCString()}return document.cookie=t+"="+e+"; "+n+"; path=/",1},i.getCookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0,o=i.length;n<o;n++){for(var r=i[n];" "==r.charAt(0);)r=r.substring(1);if(-1!=r.indexOf(e))return r.substring(e.length,r.length)}},i.loadScript=function(t,e){var i=document.createElement("script");i.src=t,i.async=!0,void 0!==e&&(i.onload=e),document.head.appendChild(i)},i.ajax=function(o,r,s){return s=s||{},new Promise(function(t,e){try{var i,n=r?"POST":"GET";(i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(n,o,!0),i.setRequestHeader("Content-type",s.contentType||"application/json"),i.timeout=2e3,i.withCredentials=!0,i.onload=function(){i.status<200||300<=i.status?e(i.responseText):t(i.responseText)},i.onerror=function(t){e("Error performing "+n.toUpperCase()+' to url "'+o+'"')},i.send(r)}catch(t){e("Ajax request threw exception")}})},i.getCommonSizes=function(t,e){return t&&e?t.filter(function(t){return i.hasSize(e,t)}):[]},i.hasSize=function(t,e){if(!e)return!1;for(var i=0;i<t.length;i++)if(t[i][0]==e[0]&&t[i][1]==e[1])return!0;return!1},i.getSizeStr=function(t){return t.length<2?"1x1":t[0]+"x"+t[1]},i.hideBadge=function(t,e,i){var n=document.createElement("style");n.innerHTML=r.constants.hideBadgeStyleHtml,100<e&&"nexusmods"===i&&(n.innerHTML+="#horizontalpub{height:"+e+"px !important;overflow-x:hidden;margin-bottom:10px}"),t.appendChild(n),document.getElementsByTagName("body")[0].className+=" ad-skin"},i.isVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},i}();i.utils=n},{"./constants":7,"es6-promise":1}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=function(){function t(t){this.factorem=t}return t.prototype.init=function(t){this.videoZone=t,this.scriptLoaded||n.utils.loadScript(window.location.protocol+"//imasdk.googleapis.com/js/sdkloader/ima3.js",this.adScriptLoaded.bind(this))},t.prototype.adScriptLoaded=function(){this.factorem.debugOut("[Video] IMA loaded"),this.scriptLoaded=!0;var t=window,e=new t.google.ima.AdDisplayContainer(this.videoZone);e.initialize(),this.adsLoader=new t.google.ima.AdsLoader(e),this.adsLoader.addEventListener(t.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(t.google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1);this.initialized=!0},t.prototype.requestAd=function(t,e,i){if(this.factorem.debugOut("[Video] Requesting Ad"),this.startCallback=t,this.completeCallback=e,this.errorCallback=i,this.videoWidth=this.videoZone.getAttribute("data-width")||640,this.videoHeight=this.videoZone.getAttribute("data-height")||360,!this.initialized)return this.factorem.debugOut("[Video] Not initialized"),void(this.errorCallback&&this.errorCallback.bind(this)());var n=new window.google.ima.AdsRequest,o=new Date;n.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=480x360&iu=/58309977/test_curse&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&correlator="+o.getTime(),n.linearAdSlotWidth=this.videoWidth,n.linearAdSlotHeight=this.videoHeight,n.nonLinearAdSlotWidth=640,n.nonLinearAdSlotHeight=150,this.adsLoader.requestAds(n)},t.prototype.onAdsManagerLoaded=function(t){this.adsManager=t.getAdsManager(document.createElement("video"));var e=window;this.adsManager.addEventListener(e.google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(e.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(e.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this));try{this.adsManager.init(this.videoWidth,this.videoHeight,e.google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(t){}},t.prototype.onAdError=function(t){this.factorem.debugOut("[Video] Ad error: "+t.getError()),this.adsManager&&this.adsManager.destroy(),this.errorCallback&&this.errorCallback()},t.prototype.onContentPauseRequested=function(){this.factorem.debugOut("[Video] Ad Start"),this.startCallback&&this.startCallback()},t.prototype.onContentResumeRequested=function(){this.factorem.debugOut("[Video] Ad Complete"),this.completeCallback&&this.completeCallback()},t}();i.VideoManager=o},{"./utils":16}]},{},[11]);